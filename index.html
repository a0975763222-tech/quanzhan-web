<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>銓展通訊 | Since 1989 旗艦報價中心</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: "Noto Sans TC", sans-serif; }
        .header { width: 100%; border-bottom: 1px solid #333; background: #000; }
        /* 更新時鐘樣式 */
        #update-time { text-align: center; color: #888; padding: 10px; font-size: 14px; }
        /* LINE 懸浮按鈕：黑鈦拉絲質感 + 呼吸燈 */
        .line-float { position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px; 
                      background: linear-gradient(145deg, #1a1a1a, #333); border-radius: 50%;
                      box-shadow: 0 0 10px #444; animation: light-breath 2s infinite; display: flex; align-items: center; justify-content: center; text-decoration: none; }
        .line-float::after { content: 'LINE'; color: #fff; font-weight: bold; font-size: 14px; }
        @keyframes light-breath { 0% { box-shadow: 0 0 5px #fff; } 50% { box-shadow: 0 0 20px #fff; } 100% { box-shadow: 0 0 5px #fff; } }
    </style>
</head>
<body>
    <div class="header"><canvas id="quanzhanCanvas"></canvas></div>
    <div id="update-time">正在載入最新報價時鐘...</div>
    <div class="container">
        </div>
    <a href="https://line.me/ti/p/您的ID" class="line-float"></a>
    <footer>
        <div style="text-align: center; padding: 40px 20px; border-top: 1px solid #333; margin-top: 50px;">
            <p style="font-size: 18px; letter-spacing: 2px;">銓展通訊 (80089553)</p>
            <p>桃園市龜山區中興路 402 號 | 03-3590858</p>
            <p style="color: #888; margin-top: 10px;">✅ 資料無痛轉移 ✅ 舊機折抵 ✅ 原廠保固</p>
            <p style="font-size: 12px; color: #444; margin-top: 20px;">SINCE 1989 | 專業服務</p>
        </div>
    </footer><script>
    // 1. 黑鈦流光招牌繪圖 (Canvas)
    const canvas = document.getElementById('quanzhanCanvas');
    const ctx = canvas.getContext('2d');
    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerWidth * (21/100); // 保持旗艦比例
    }
    window.onresize = resize; resize();

    let gradientPos = -canvas.width;
    function draw() {
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // 銀白流光效果
        let grad = ctx.createLinearGradient(gradientPos, 0, gradientPos + 400, 0);
        grad.addColorStop(0, 'transparent');
        grad.addColorStop(0.5, 'rgba(255,255,255,0.15)');
        grad.addColorStop(1, 'transparent');
        
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // 招牌文字：地址與店名
        ctx.fillStyle = '#fff';
        ctx.font = 'bold 24px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('銓展通訊 | SINCE 1989', canvas.width/2, canvas.height/2);
        ctx.font = '14px sans-serif';
        ctx.fillText('桃園市龜山區中興路 402 號', canvas.width/2, canvas.height/2 + 30);

        gradientPos += 5;
        if (gradientPos > canvas.width + 500) gradientPos = -500;
        requestAnimationFrame(draw);
    }
    draw();

    // 2. 抓取價格數據並渲染頁面
    fetch('prices.json')
        .then(response => response.json())
        .then(data => {
            if (data.last_update) {
                document.getElementById('update-time').innerText = '最後更新：' + data.last_update;
            }
            const grid = document.querySelector('.container');
            grid.innerHTML = ''; // 清除載入文字
            
            data.products.forEach(p => {
                const card = document.createElement('div');
                card.style = "border:1px solid #222; padding:20px; border-radius:10px; margin:10px; display:inline-block; width:280px; vertical-align:top; background:#0a0a0a;";
                
                // 處理零色差色塊
                let colorHtml = '';
                if(p.colors) {
                    p.colors.forEach(c => {
                        colorHtml += `<span style="display:inline-block; width:15px; height:15px; border-radius:50%; background:${c.hex}; margin-right:5px; border:1px solid #444;" title="${c.name}"></span>`;
                    });
                }

                card.innerHTML = `
                    <img src="${p.img}" style="width:100%; border-radius:5px;">
                    <h3 style="margin:15px 0 5px 0; font-size:18px;">${p.model}</h3>
                    <p style="color:#666; font-size:12px;">${p.specs}</p>
                    <div style="margin:10px 0;">${colorHtml}</div>
                    <p style="text-decoration:line-through; color:#444; font-size:12px;">原價 $${p.msrp}</p>
                    <p style="color:#fff; font-size:20px; font-weight:bold; color:#ffcc00;">銓展價 $${p.price}</p>
                `;
                grid.appendChild(card);
            });
        })
        .catch(err => {
            document.getElementById('update-time').innerText = '報價單同步中，請稍候再重新整理';
        });
</script>
</body>
</html>
